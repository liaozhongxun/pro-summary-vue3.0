"use strict";(self["webpackChunkpro_summary_vue3_0"]=self["webpackChunkpro_summary_vue3_0"]||[]).push([[709],{6497:function(e,i,t){t.d(i,{Z:function(){return I}});var s=t(3396),a=t(7139);const n=e=>((0,s.dD)("data-v-6011659c"),e=e(),(0,s.Cn)(),e),o={class:"footer"},l={class:"tablist"},r=n((()=>(0,s._)("i",{class:"iconfont iconhome1"},null,-1))),d=n((()=>(0,s._)("span",null,"首页",-1))),c=[r,d],u=n((()=>(0,s._)("i",{class:"iconfont iconduihuakuang"},null,-1))),h=n((()=>(0,s._)("span",null,"群聊",-1))),m=[u,h],f=n((()=>(0,s._)("i",{class:"iconfont icondongtai"},null,-1))),g=n((()=>(0,s._)("span",null,"动态",-1))),p=[f,g],v=n((()=>(0,s._)("i",{class:"iconfont iconwodewo"},null,-1))),_=n((()=>(0,s._)("span",null,"我的",-1))),b=[v,_];function w(e,i,t,n,r,d){return(0,s.wg)(),(0,s.iD)("footer",o,[(0,s._)("ul",l,[(0,s._)("li",{class:(0,a.C_)(["item",{active:0==t.tabIndex}]),onClick:i[0]||(i[0]=i=>e.$toPath("/index"))},c,2),(0,s._)("li",{class:(0,a.C_)(["item",{active:1==t.tabIndex}]),onClick:i[1]||(i[1]=i=>e.$toPath("/groupchat"))},m,2),(0,s._)("li",{class:(0,a.C_)(["item",{active:2==t.tabIndex}]),onClick:i[2]||(i[2]=i=>e.$toPath("/dynamic"))},p,2),(0,s._)("li",{class:(0,a.C_)(["item",{active:3==t.tabIndex}]),onClick:i[3]||(i[3]=i=>e.$toPath("/user"))},b,2)])])}var k={props:{leftFont:{typeof:String,default:""},tabIndex:{typeof:Number,default:0}},methods:{goBack(){"-1"==this.isback?this.$router.go(-1):this.$repPath(this.isback)}},setup(){return{}}},y=t(89);const x=(0,y.Z)(k,[["render",w],["__scopeId","data-v-6011659c"]]);var I=x},8319:function(e,i,t){t.r(i),t.d(i,{default:function(){return M}});var s=t(6497),a=t(1404),n=t(3396),o=t(4870),l=t(610),r=t(5323),d=t(7936),c=t(253),u=t(3444);const h=Symbol(),m=()=>(0,n.f3)(h,null);var f=t(2229);const[g,p,v]=(0,l["do"])("list"),_={error:Boolean,offset:(0,r.SI)(300),loading:Boolean,finished:Boolean,errorText:String,direction:(0,r.SQ)("down"),loadingText:String,finishedText:String,immediateCheck:r.J5};var b=(0,n.aZ)({name:g,props:_,emits:["load","update:error","update:loading"],setup(e,{emit:i,slots:t}){const s=(0,o.iH)(!1),a=(0,o.iH)(),l=(0,o.iH)(),r=m(),h=(0,c.eo)(a),g=()=>{(0,n.Y3)((()=>{if(s.value||e.finished||e.error||!1===(null==r?void 0:r.value))return;const{offset:t,direction:n}=e,o=(0,c.EL)(h);if(!o.height||(0,d.xj)(a))return;let u=!1;const m=(0,c.EL)(l);u="up"===n?o.top-m.top<=t:m.bottom-o.bottom<=t,u&&(s.value=!0,i("update:loading",!0),i("load"))}))},_=()=>{if(e.finished){const i=t.finished?t.finished():e.finishedText;if(i)return(0,n.Wm)("div",{class:p("finished-text")},[i])}},b=()=>{i("update:error",!1),g()},w=()=>{if(e.error){const i=t.error?t.error():e.errorText;if(i)return(0,n.Wm)("div",{role:"button",class:p("error-text"),tabindex:0,onClick:b},[i])}},k=()=>{if(s.value&&!e.finished)return(0,n.Wm)("div",{class:p("loading")},[t.loading?t.loading():(0,n.Wm)(f.g,{class:p("loading-icon")},{default:()=>[e.loadingText||v("loading")]})])};return(0,n.YP)((()=>[e.loading,e.finished,e.error]),g),r&&(0,n.YP)(r,(e=>{e&&g()})),(0,n.ic)((()=>{s.value=e.loading})),(0,n.bv)((()=>{e.immediateCheck&&g()})),(0,u.F)({check:g}),(0,c.OR)("scroll",g,{target:h,passive:!0}),()=>{var i;const o=null==(i=t.default)?void 0:i.call(t),r=(0,n.Wm)("div",{ref:l,class:p("placeholder")},null);return(0,n.Wm)("div",{ref:a,role:"feed",class:p(),"aria-busy":s.value},["down"===e.direction?o:r,k(),_(),w(),"up"===e.direction?o:r])}}});const w=(0,a.n)(b);t(1958),t(2939);var k=t(4250),y=(t(7461),t(3)),x=(t(6145),t(316)),I=(t(4165),t(7139));const C=e=>((0,n.dD)("data-v-5972d60b"),e=e(),(0,n.Cn)(),e),L={class:"dynamic-page page tabbar-page header-page"},W={class:"top"},$=C((()=>(0,n._)("div",{class:"bgbanner"},null,-1))),D={class:"avatarInfo"},S={class:"self-name"},T={class:"name"},H={class:"dynamic-list"},P={class:"inner-box"},z={class:"left"},U=["src"],Z={class:"right-info"},B={class:"display-name"},F={class:"content"},N={class:"imgList"},Y={key:0},E={class:"time-headle"},J={class:"time"},V=["onClick"];function j(e,i,t,a,o,l){const r=(0,n.up)("si-header"),d=x.J,c=y.E,u=k.b,h=w,m=s.Z;return(0,n.wg)(),(0,n.iD)("div",L,[(0,n.Wm)(r,{title:"动态",isback:"-1"}),(0,n._)("div",W,[$,(0,n._)("div",{class:"publish",onClick:i[0]||(i[0]=i=>e.$toPath("/dynamic-add"))},[(0,n.Wm)(d,{name:"add"})]),(0,n._)("div",D,[(0,n._)("div",S,[(0,n._)("div",T,(0,I.zw)(o.userInfo.displayName||"未设置"),1),(0,n.Wm)(c,{style:{"border-radius":"5px",overflow:"hidden"},width:"60",height:"60",fit:"cover",src:e.$config.baseUrl+o.userInfo.headurl},null,8,["src"])])])]),(0,n._)("div",H,[(0,n.Wm)(h,{loading:o.loading,"onUpdate:loading":i[1]||(i[1]=e=>o.loading=e),finished:o.finished,offset:"50","finished-text":"没有更多了",onLoad:l.onLoad},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.dynamicList,(i=>((0,n.wg)(),(0,n.j4)(u,{class:"item",key:i.id},{default:(0,n.w5)((()=>[(0,n._)("div",P,[(0,n._)("div",z,[(0,n._)("img",{src:e.$config.baseUrl+i.users.headurl},null,8,U)]),(0,n._)("div",Z,[(0,n._)("div",B,(0,I.zw)(i.users.displayName||"未设置"),1),(0,n._)("div",F,(0,I.zw)(i.content),1),(0,n._)("div",N,[i.paths&&1==i.paths.length?((0,n.wg)(),(0,n.iD)("div",Y,[(0,n.Wm)(c,{style:{"max-height":"160px"},width:"230",height:"180",position:"left",fit:"scale-down",src:e.$config.baseUrl+i.paths[0],onClick:t=>l.showImg(e.$config.baseUrl+i.paths[0])},null,8,["src","onClick"])])):i.paths&&i.paths.length>1?((0,n.wg)(!0),(0,n.iD)(n.HY,{key:1},(0,n.Ko)(i.paths,((t,s)=>((0,n.wg)(),(0,n.iD)("div",{class:"item-img",key:t},[(0,n.Wm)(c,{width:"80",height:"80",fit:"cover",src:e.$config.baseUrl+t,onClick:e=>l.showImgs(i.paths,s)},null,8,["src","onClick"])])))),128)):(0,n.kq)("",!0)]),(0,n._)("div",E,[(0,n._)("div",J,(0,I.zw)(l.publishTime(i.createTime)),1),i.users.id==o.userInfo.id?((0,n.wg)(),(0,n.iD)("div",{key:0,class:"delete",onClick:e=>l.removeItem(i.id)},"删除 ",8,V)):(0,n.kq)("",!0)])])])])),_:2},1024)))),128))])),_:1},8,["loading","finished","onLoad"])]),(0,n.Wm)(m,{tabIndex:2})])}t(7658);var q=t(6474),K=t(3554),O=t(6239),Q=t(3573),R={name:"Dynamic",data(){return{userInfo:JSON.parse(localStorage.getItem("userInfo")),defaultHeadurl:"",dynamicList:[],finished:!1,loading:!1,size:10,number:1}},components:{SiHeader:K.Z,TabBar:s.Z},computed:{},methods:{removeItem(e){O.V.confirm({title:"",message:"确认删除该动态？ "}).then((()=>{(0,q.VH)(e).then((()=>{this.dynamicList=this.dynamicList.filter((i=>i.id!=e))}))}))},showImg(e){(0,Q.e)([e.replace("-small","")])},showImgs(e,i){let t=[];e.forEach((e=>{t.push(this.$config.baseUrl+e.replace("-small",""))})),(0,Q.e)({images:t,startPosition:i})},publishTime(e){let i=new Date(e).getTime(),t=(new Date).getTime(),s=t-i;return s<6e4?"刚刚":s<36e5?(s/1e3/60).toFixed(0)+"分钟前":s<864e5?(s/36e5).toFixed(0)+"小时前":(s/864e5).toFixed(0)+"天前"},onLoad(){this.getList()},getList(){let e={pageSize:this.size,pageNumber:this.number};(0,q.wV)(e).then((e=>{this.dynamicList=[...this.dynamicList,...e.result.list],this.number++,this.loading=!1,0==e.result.list.length&&(this.finished=!0)}))}},mounted(){this.defaultHeadurl=localStorage.getItem("userHead")}},A=t(89);const G=(0,A.Z)(R,[["render",j],["__scopeId","data-v-5972d60b"]]);var M=G},7461:function(e,i,t){t(1958),t(368),t(6742),t(3094)},6145:function(e,i,t){t(1958),t(368),t(6742),t(7179)}}]);
//# sourceMappingURL=709.4ed73f8a.js.map